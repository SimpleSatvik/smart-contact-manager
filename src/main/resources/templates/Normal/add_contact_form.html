<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="Normal/base::layout(~{::section})">
<head>
  <meta charset="UTF-8">
  <title th:text="${Title}"></title>

  <!-- ✅ TinyMCE v8 Script in <head> -->
  <script src="https://cdn.tiny.cloud/1/ouaifag4dcrh49axxlnqsv1i5wnw4ih0o5ynn66c8emscbqi/tinymce/8/tinymce.min.js"
    referrerpolicy="origin" crossorigin="anonymous"></script>
</head>
<body>
  <section>
    <div class="card mr-3 ml-3">
      <div class="card-body">
        <h1 class="text-center">Add Contacts</h1>

        <div class="container-fluid mt-1">
          <div class="row">
            <div class="col-md-10 offset-md-1">
              <form action="#" th:object="${contact}" enctype="multipart/form-data" method="POST"
                th:action="@{/user/process-contact}" class="mt-2">

                <!-- First Name -->
                <div class="input-group">
                  <div class="input-group-prepend">
                    <div class="input-group-text">
                      <i class="fa fa-plus"></i>
                    </div>
                  </div>
                  <input type="text" id="firstName" name="name" placeholder="Enter name here" class="form-control"
                    th:classappend="${#fields.hasErrors('name') ? 'is-invalid':''}" />
                  <div class="invalid-feedback" th:each="e : ${#fields.errors('name')}" th:text="${e}"></div>
                </div>

                <!-- Second Name -->
                <div class="input-group mt-3">
                  <div class="input-group-prepend">
                    <div class="input-group-text">
                      <i class="fas fa-user-alt"></i>
                    </div>
                  </div>
                  <input type="text" id="secondName" name="secondName" placeholder="Enter Nick Name here"
                    class="form-control" th:classappend="${#fields.hasErrors('secondName') ? 'is-invalid':''}" />
                  <div class="invalid-feedback" th:each="e : ${#fields.errors('secondName')}" th:text="${e}"></div>
                </div>

                <!-- Phone Field -->
                <div class="input-group mt-3">
                  <div class="input-group-prepend">
                    <div class="input-group-text">
                      <i class="fa fa-phone"></i>
                    </div>
                  </div>
                  <input type="number" id="phone" name="phone" placeholder="Enter Phone Number here"
                    class="form-control" th:classappend="${#fields.hasErrors('phone') ? 'is-invalid':''}" />
                  <div class="invalid-feedback" th:each="e : ${#fields.errors('phone')}" th:text="${e}"></div>
                </div>

                <!-- Email Field -->
                <div class="input-group mt-3">
                  <div class="input-group-prepend">
                    <div class="input-group-text">@</div>
                  </div>
                  <input type="email" id="email" name="email" placeholder="Enter Email here" class="form-control"
                    th:classappend="${#fields.hasErrors('email') ? 'is-invalid':''}" />
                  <div class="invalid-feedback" th:each="e : ${#fields.errors('email')}" th:text="${e}"></div>
                </div>

                <!-- Work Field -->
                <div class="input-group mt-3">
                  <div class="input-group-prepend">
                    <div class="input-group-text">
                      <i class="fa fa-briefcase"></i>
                    </div>
                  </div>
                  <input type="text" id="work" name="work" placeholder="Enter Your Work Here" class="form-control"
                    th:classappend="${#fields.hasErrors('work') ? 'is-invalid':''}" />
                  <div class="invalid-feedback" th:each="e : ${#fields.errors('work')}" th:text="${e}"></div>
                </div>

                <!-- ✅ Description Field with TinyMCE -->
                <div class="form-group mt-3">
                  <textarea id="description" name="description" placeholder="Enter Contact Description" rows="10"
                    class="form-control" th:classappend="${#fields.hasErrors('description') ? 'is-invalid':''}"></textarea>
                  <div class="invalid-feedback" th:each="e : ${#fields.errors('description')}" th:text="${e}"></div>
                </div>

                <!-- Contact Img Field -->
                <div class="custom-file mt-3">
                  <input type="file" name="Profileimage" />
                </div>

                <div class="container text-center mt-3">
                  <button class="btn btn-outline-primary">Save Contact</button>
                </div>
              </form>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- ✅ TinyMCE v8 Initialization -->
    <script>
      tinymce.init({
        selector: 'textarea',
        plugins: 'autolink link lists searchreplace table visualblocks wordcount',
        toolbar: 'undo redo | bold italic underline | link table | align | numlist bullist outdent indent | removeformat',
        branding: false
      });
    </script>

    <!-- Sidebar active link script -->
    <script>
      $(document).ready(() => {
        $('.item').removeClass('active');
        $('#add-link').addClass('active');
      });
    </script>
  </section>
</body>
</html>
